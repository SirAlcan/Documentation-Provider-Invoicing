<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Schema Documentation Builder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: #f8fafc;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 24px;
        }

        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 24px;
        }

        .header h1 {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .header p {
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            background-color: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
        }

        .tab {
            padding: 16px 24px;
            background: none;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            font-weight: 500;
            color: #64748b;
            transition: all 0.2s;
        }

        .tab:hover {
            color: #1e293b;
            background-color: #f1f5f9;
        }

        .tab.active {
            color: #4f46e5;
            border-bottom-color: #4f46e5;
            background-color: white;
        }

        .tab-content {
            padding: 24px;
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .form-section {
            background-color: #f8fafc;
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 24px;
        }

        .form-section h4 {
            font-weight: 600;
            margin-bottom: 12px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-bottom: 12px;
        }

        .input, .select {
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .input:focus, .select:focus {
            outline: none;
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: #4f46e5;
            color: white;
        }

        .btn-primary:hover {
            background-color: #4338ca;
        }

        .btn-success {
            background-color: #059669;
            color: white;
        }

        .btn-success:hover {
            background-color: #047857;
        }

        .btn-danger {
            background-color: #dc2626;
            color: white;
        }

        .btn-danger:hover {
            background-color: #b91c1c;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .table-container {
            overflow-x: auto;
            margin-bottom: 24px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #d1d5db;
        }

        .table th {
            background-color: #1f2937;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }

        .table td {
            padding: 12px;
            border-bottom: 1px solid #e5e7eb;
        }

        .table tr:hover {
            background-color: #f9fafb;
        }

        .badge {
            padding: 4px 8px;
            border-radius: 9999px;
            font-size: 12px;
            font-weight: 500;
        }

        .badge-green {
            background-color: #dcfce7;
            color: #166534;
        }

        .badge-yellow {
            background-color: #fef3c7;
            color: #92400e;
        }

        .badge-orange {
            background-color: #fed7aa;
            color: #c2410c;
        }

        .code {
            background-color: #f3f4f6;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }

        .json-area {
            width: 100%;
            height: 400px;
            padding: 16px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
        }

        .json-output {
            height: 400px;
            padding: 16px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            background-color: #f9fafb;
            overflow: auto;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            white-space: pre-wrap;
        }

        .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            flex-wrap: wrap;
            gap: 12px;
        }

        .toolbar-group {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .search-input {
            max-width: 300px;
            margin-bottom: 16px;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }

        @media (max-width: 768px) {
            .grid-2 {
                grid-template-columns: 1fr;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .toolbar {
                flex-direction: column;
                align-items: stretch;
            }
        }

        .field-code {
            font-family: 'Courier New', monospace;
            color: #2563eb;
        }

        .mydata-code {
            font-family: 'Courier New', monospace;
            color: #7c3aed;
        }

        .example-code {
            font-family: 'Courier New', monospace;
            color: #059669;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .icon {
            width: 16px;
            height: 16px;
        }

        .hidden {
            display: none !important;
        }

        .edit-row input, .edit-row select {
            width: 100%;
            padding: 4px 8px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <!-- Header -->
            <div class="header">
                <h1>Dynamic JSON Schema Documentation Builder</h1>
                <p>ŒîŒ∑ŒºŒπŒøœçœÅŒ≥Œ∑œÉŒµ schema documentation Œ∫Œ±Œπ automatic JSON comments</p>
            </div>

            <!-- Tabs -->
            <div class="tabs">
                <button class="tab active" onclick="switchTab('builder')">
                    üìã Schema Builder
                </button>
                <button class="tab" onclick="switchTab('processor')">
                    üíª JSON Processor
                </button>
                <button class="tab" onclick="switchTab('preview')">
                    üìÑ Documentation
                </button>
            </div>

            <!-- Schema Builder Tab -->
            <div id="builder" class="tab-content active">
                <div class="toolbar">
                    <h3>Schema Documentation Builder</h3>
                    <div class="toolbar-group">
                        <button class="btn btn-primary" onclick="exportSchema()">
                            üíæ Export Schema
                        </button>
                    </div>
                </div>

                <input type="text" id="searchInput" class="input search-input" placeholder="ŒëŒΩŒ±Œ∂ŒÆœÑŒ∑œÉŒ∑ fields..." oninput="filterFields()">

                <!-- Add New Field Form -->
                <div class="form-section">
                    <h4>Œ†œÅŒøœÉŒ∏ŒÆŒ∫Œ∑ ŒΩŒ≠ŒøœÖ field</h4>
                    <div class="form-grid">
                        <input type="text" id="newGroup" class="input" placeholder="Group">
                        <input type="text" id="newField" class="input" placeholder="JSON Field Name">
                        <select id="newMandatory" class="select">
                            <option value="YES">‚úÖ Mandatory</option>
                            <option value="NO">üü° Optional</option>
                            <option value="SPECIAL">‚ö†Ô∏è Special</option>
                        </select>
                        <select id="newType" class="select">
                            <option value="string">string</option>
                            <option value="number">number</option>
                            <option value="boolean">boolean</option>
                            <option value="object">object</option>
                            <option value="array">array</option>
                        </select>
                    </div>
                    <div class="form-grid">
                        <input type="text" id="newLength" class="input" placeholder="Length">
                        <input type="text" id="newMydata" class="input" placeholder="MyData Code">
                        <input type="text" id="newUbl" class="input" placeholder="UBL Code">
                        <input type="text" id="newDescription" class="input" placeholder="Greek|English Description">
                        <input type="text" id="newExamples" class="input" placeholder="Example value">
                    </div>
                    <button class="btn btn-success" onclick="addNewField()">
                        ‚ûï Œ†œÅŒøœÉŒ∏ŒÆŒ∫Œ∑ Field
                    </button>
                </div>

                <!-- Fields Table -->
                <div class="table-container">
                    <table class="table" id="fieldsTable">
                        <thead>
                            <tr>
                                <th>Group</th>
                                <th>JSON Field</th>
                                <th>Level</th>
                                <th>Mandatory</th>
                                <th>Type</th>
                                <th>Length</th>
                                <th>MyData</th>
                                <th>UBL</th>
                                <th>Description</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="fieldsTableBody">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- JSON Processor Tab -->
            <div id="processor" class="tab-content">
                <div class="toolbar">
                    <h3>JSON Comment Generator</h3>
                    <div class="toolbar-group">
                        <button class="btn btn-primary" onclick="loadSampleData()">
                            üóÉÔ∏è Load Sample
                        </button>
                        <button class="btn btn-primary" onclick="copyOutput()">
                            üìã Copy Output
                        </button>
                        <button class="btn btn-success" onclick="downloadCommentedJson()">
                            üíæ Download JSONC
                        </button>
                    </div>
                </div>

                <div class="grid-2">
                    <div>
                        <h4 style="margin-bottom: 16px;">Input JSON</h4>
                        <textarea id="inputJson" class="json-area" placeholder="Paste your JSON here..." oninput="generateComments()"></textarea>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 16px;">Output JSONC (with Comments)</h4>
                        <div id="outputJsonc" class="json-output"></div>
                    </div>
                </div>
            </div>

            <!-- Documentation Preview Tab -->
            <div id="preview" class="tab-content">
                <h3 style="margin-bottom: 24px;">Schema Documentation Preview</h3>
                <div id="documentationContent"></div>
            </div>
        </div>
    </div>

    <script>
        // Global state
        let schemaFields = [
            {
                id: 1,
                group: 'invoice',
                field: 'series',
                level: 'root',
                mandatory: 'YES',
                type: 'string',
                length: '50',
                mydata: 'BT-31',
                ubl: '',
                description: 'Œ£ŒµŒπœÅŒ¨ œÄŒ±œÅŒ±œÉœÑŒ±œÑŒπŒ∫Œøœç|Invoice Series',
                examples: '"Œö"'
            },
            {
                id: 2,
                group: 'invoice',
                field: 'number',
                level: 'root',
                mandatory: 'YES',
                type: 'string',
                length: '100',
                mydata: 'BT-32',
                ubl: '',
                description: 'ŒëœÅŒπŒ∏ŒºœåœÇ Œ†Œ±œÅŒ±œÉœÑŒ±œÑŒπŒ∫Œøœç|Invoice Number',
                examples: '"000002"'
            }
        ];

        let editingId = null;
        let nextId = 3;

        const sampleJson = `{
  "series": "Œö",
  "number": "000002",
  "dateIssued": "2024-07-17T23:27:23",
  "invoiceTypeCode": "1.1",
  "Issuer": {
    "RegisteredName": "LMC Demo Company",
    "Vat": "EL110099934",
    "Address": {
      "CountryCode": "GR",
      "City": "ŒëŒòŒóŒùŒë",
      "Street": "Œõ.ŒúŒïŒ£ŒüŒìŒïŒôŒ©Œù 243",
      "Postal": "15451"
    }
  },
  "counterParty": {
    "registeredName": "Œ§ŒïŒ£Œ§ Œ†ŒïŒõŒëŒ§ŒóŒ£",
    "Vat": "EL800654765",
    "address": {
      "countryCode": "GR",
      "city": "ŒëŒòŒóŒùŒë",
      "Street": "ŒõŒïŒ©Œ¶ŒüŒ°ŒüŒ£ ŒúŒïŒ£ŒüŒìŒïŒôŒ©Œù 300"
    }
  },
  "details": [
    {
      "lineNo": 1,
      "quantity": 1.00000,
      "UnitPrice": 18.45,
      "descriptions": ["ITEM 1"]
    }
  ]
}`;

        // Tab switching
        function switchTab(tabName) {
            // Hide all tab contents
            const tabContents = document.querySelectorAll('.tab-content');
            tabContents.forEach(content => content.classList.remove('active'));

            // Remove active class from all tabs
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => tab.classList.remove('active'));

            // Show selected tab content
            document.getElementById(tabName).classList.add('active');

            // Add active class to clicked tab
            event.target.classList.add('active');

            // Refresh content if needed
            if (tabName === 'preview') {
                generateDocumentation();
            }
        }

        // Add new field
        function addNewField() {
            const group = document.getElementById('newGroup').value;
            const field = document.getElementById('newField').value;
            const mandatory = document.getElementById('newMandatory').value;
            const type = document.getElementById('newType').value;
            const length = document.getElementById('newLength').value;
            const mydata = document.getElementById('newMydata').value;
            const ubl = document.getElementById('newUbl').value;
            const description = document.getElementById('newDescription').value;
            const examples = document.getElementById('newExamples').value;

            if (!field || !description) {
                alert('Œ†Œ±œÅŒ±Œ∫Œ±Œªœé œÉœÖŒºœÄŒªŒ∑œÅœéœÉœÑŒµ œÑŒøœÖŒªŒ¨œáŒπœÉœÑŒøŒΩ œÑŒø JSON Field Œ∫Œ±Œπ œÑŒø Description');
                return;
            }

            const newField = {
                id: nextId++,
                group,
                field,
                level: 'root',
                mandatory,
                type,
                length,
                mydata,
                ubl,
                description,
                examples
            };

            schemaFields.push(newField);
            clearNewFieldForm();
            renderFieldsTable();
        }

        // Clear form
        function clearNewFieldForm() {
            document.getElementById('newGroup').value = '';
            document.getElementById('newField').value = '';
            document.getElementById('newMandatory').value = 'YES';
            document.getElementById('newType').value = 'string';
            document.getElementById('newLength').value = '';
            document.getElementById('newMydata').value = '';
            document.getElementById('newUbl').value = '';
            document.getElementById('newDescription').value = '';
            document.getElementById('newExamples').value = '';
        }

        // Render fields table
        function renderFieldsTable() {
            const tbody = document.getElementById('fieldsTableBody');
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            const filteredFields = schemaFields.filter(field =>
                field.field.toLowerCase().includes(searchTerm) ||
                field.group.toLowerCase().includes(searchTerm) ||
                field.description.toLowerCase().includes(searchTerm)
            );

            tbody.innerHTML = '';

            filteredFields.forEach(field => {
                const row = document.createElement('tr');
                
                if (editingId === field.id) {
                    row.className = 'edit-row';
                    row.innerHTML = `
                        <td><input type="text" value="${field.group}" id="edit-group-${field.id}"></td>
                        <td><input type="text" value="${field.field}" id="edit-field-${field.id}"></td>
                        <td><input type="text" value="${field.level}" id="edit-level-${field.id}"></td>
                        <td>
                            <select id="edit-mandatory-${field.id}">
                                <option value="YES" ${field.mandatory === 'YES' ? 'selected' : ''}>‚úÖ YES</option>
                                <option value="NO" ${field.mandatory === 'NO' ? 'selected' : ''}>üü° NO</option>
                                <option value="SPECIAL" ${field.mandatory === 'SPECIAL' ? 'selected' : ''}>‚ö†Ô∏è SPECIAL</option>
                            </select>
                        </td>
                        <td>
                            <select id="edit-type-${field.id}">
                                <option value="string" ${field.type === 'string' ? 'selected' : ''}>string</option>
                                <option value="number" ${field.type === 'number' ? 'selected' : ''}>number</option>
                                <option value="boolean" ${field.type === 'boolean' ? 'selected' : ''}>boolean</option>
                                <option value="object" ${field.type === 'object' ? 'selected' : ''}>object</option>
                                <option value="array" ${field.type === 'array' ? 'selected' : ''}>array</option>
                            </select>
                        </td>
                        <td><input type="text" value="${field.length}" id="edit-length-${field.id}"></td>
                        <td><input type="text" value="${field.mydata}" id="edit-mydata-${field.id}"></td>
                        <td><input type="text" value="${field.ubl}" id="edit-ubl-${field.id}"></td>
                        <td><input type="text" value="${field.description}" id="edit-description-${field.id}"></td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-success" onclick="saveEdit(${field.id})">üíæ</button>
                                <button class="btn" onclick="cancelEdit()">‚ùå</button>
                            </div>
                        </td>
                    `;
                } else {
                    const mandatoryBadge = field.mandatory === 'YES' ? 
                        '<span class="badge badge-green">‚úÖ YES</span>' :
                        field.mandatory === 'NO' ?
                        '<span class="badge badge-yellow">üü° NO</span>' :
                        '<span class="badge badge-orange">‚ö†Ô∏è SPECIAL</span>';

                    row.innerHTML = `
                        <td>${field.group}</td>
                        <td class="field-code">${field.field}</td>
                        <td>${field.level}</td>
                        <td>${mandatoryBadge}</td>
                        <td><span class="code">${field.type}</span></td>
                        <td>${field.length}</td>
                        <td class="mydata-code">${field.mydata}</td>
                        <td>${field.ubl}</td>
                        <td style="max-width: 200px; overflow: hidden; text-overflow: ellipsis;" title="${field.description}">${field.description}</td>
                        <td>
                            <div class="action-buttons">
                                <button class="btn btn-primary" onclick="startEdit(${field.id})">‚úèÔ∏è</button>
                                <button class="btn btn-danger" onclick="deleteField(${field.id})">üóëÔ∏è</button>
                            </div>
                        </td>
                    `;
                }
                
                tbody.appendChild(row);
            });
        }

        // Edit functions
        function startEdit(id) {
            editingId = id;
            renderFieldsTable();
        }

        function saveEdit(id) {
            const field = schemaFields.find(f => f.id === id);
            field.group = document.getElementById(`edit-group-${id}`).value;
            field.field = document.getElementById(`edit-field-${id}`).value;
            field.level = document.getElementById(`edit-level-${id}`).value;
            field.mandatory = document.getElementById(`edit-mandatory-${id}`).value;
            field.type = document.getElementById(`edit-type-${id}`).value;
            field.length = document.getElementById(`edit-length-${id}`).value;
            field.mydata = document.getElementById(`edit-mydata-${id}`).value;
            field.ubl = document.getElementById(`edit-ubl-${id}`).value;
            field.description = document.getElementById(`edit-description-${id}`).value;
            
            editingId = null;
            renderFieldsTable();
        }

        function cancelEdit() {
            editingId = null;
            renderFieldsTable();
        }

        function deleteField(id) {
            if (confirm('ŒïŒØœÉœÑŒµ œÉŒØŒ≥ŒøœÖœÅŒøŒπ œåœÑŒπ Œ∏Œ≠ŒªŒµœÑŒµ ŒΩŒ± Œ¥ŒπŒ±Œ≥œÅŒ¨œàŒµœÑŒµ Œ±œÖœÑœå œÑŒø field;')) {
                schemaFields = schemaFields.filter(f => f.id !== id);
                renderFieldsTable();
            }
        }

        // Filter fields
        function filterFields() {
            renderFieldsTable();
        }

        // JSON processing
        function generateComments() {
            const inputJson = document.getElementById('inputJson').value;
            if (!inputJson.trim()) {
                document.getElementById('outputJsonc').textContent = '';
                return;
            }

            try {
                const parsed = JSON.parse(inputJson);
                const commented = addCommentsToJson(parsed, '', 0);
                document.getElementById('outputJsonc').textContent = commented;
            } catch (error) {
                document.getElementById('outputJsonc').textContent = 'JSON Error: ' + error.message;
            }
        }

        function addCommentsToJson(obj, path = '', level = 0) {
            const indent = '  '.repeat(level);
            const nextIndent = '  '.repeat(level + 1);
            
            if (Array.isArray(obj)) {
                let result = '[\n';
                obj.forEach((item, index) => {
                    result += nextIndent + addCommentsToJson(item, `${path}[${index}]`, level + 1);
                    if (index < obj.length - 1) result += ',';
                    result += '\n';
                });
                result += indent + ']';
                return result;
            }
            
            if (typeof obj === 'object' && obj !== null) {
                let result = '{\n';
                const keys = Object.keys(obj);
                
                keys.forEach((key, index) => {
                    const currentPath = path ? `${path}.${key}` : key;
                    const fieldInfo = findFieldInfo(key, currentPath);
                    
                    // Add comment for this field
                    if (fieldInfo) {
                        const mandatoryIcon = fieldInfo.mandatory === 'YES' ? '‚úÖ' : 
                                           fieldInfo.mandatory === 'NO' ? 'üü°' : '‚ö†Ô∏è';
                        result += nextIndent + `// ${mandatoryIcon} ${fieldInfo.description}\n`;
                        if (fieldInfo.length) {
                            result += nextIndent + `// Length: ${fieldInfo.length}\n`;
                        }
                        if (fieldInfo.mydata) {
                            result += nextIndent + `// MyData: ${fieldInfo.mydata}\n`;
                        }
                        if (fieldInfo.ubl) {
                            result += nextIndent + `// UBL: ${fieldInfo.ubl}\n`;
                        }
                        if (fieldInfo.examples) {
                            result += nextIndent + `// Example: ${fieldInfo.examples}\n`;
                        }
                    }
                    
                    result += nextIndent + `"${key}": ${addCommentsToJson(obj[key], currentPath, level + 1)}`;
                    if (index < keys.length - 1) result += ',';
                    result += '\n';
                });
                
                result += indent + '}';
                return result;
            }
            
            // Primitive values
            return JSON.stringify(obj);
        }

        function findFieldInfo(fieldName, fullPath) {
            // Try exact field match first
            let found = schemaFields.find(f => f.field === fieldName);
            
            // If not found, try partial path matching
            if (!found) {
                found = schemaFields.find(f => {
                    const pathParts = fullPath.split('.');
                    return pathParts.includes(f.field) || f.field.includes(fieldName);
                });
            }
            
            return found;
        }

        function loadSampleData() {
            document.getElementById('inputJson').value = sampleJson;
            generateComments();
        }

        function copyOutput() {
            const output = document.getElementById('outputJsonc').textContent;
            navigator.clipboard.writeText(output).then(() => {
                alert('Copied to clipboard!');
            });
        }

        function downloadCommentedJson() {
            const output = document.getElementById('outputJsonc').textContent;
            const blob = new Blob([output], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'commented-schema.jsonc';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Export schema
        function exportSchema() {
            const blob = new Blob([JSON.stringify(schemaFields, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'schema-documentation.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        // Generate documentation
        function generateDocumentation() {
            const content = document.getElementById('documentationContent');
            const groups = [...new Set(schemaFields.map(f => f.group))];
            
            let html = '<h2>API Schema Documentation</h2><p>Automatically generated from schema definition.</p>';
            
            groups.forEach(group => {
                if (!group) return;
                
                html += `
                    <div style="margin-bottom: 32px;">
                        <h3 style="text-transform: capitalize; font-weight: 600; font-size: 18px; border-bottom: 1px solid #e5e7eb; padding-bottom: 8px;">${group}</h3>
                        <div style="margin-top: 16px; overflow-x: auto;">
                            <table class="table" style="font-size: 14px;">
                                <thead style="background-color: #f3f4f6;">
                                    <tr>
                                        <th style="padding: 8px;">JSON Field</th>
                                        <th style="padding: 8px;">Required</th>
                                        <th style="padding: 8px;">Type</th>
                                        <th style="padding: 8px;">Length</th>
                                        <th style="padding: 8px;">MyData</th>
                                        <th style="padding: 8px;">Description</th>
                                        <th style="padding: 8px;">Example</th>
                                    </tr>
                                </thead>
                                <tbody>
                `;
                
                schemaFields.filter(f => f.group === group).forEach(field => {
                    const requiredIcon = field.mandatory === 'YES' ? '‚úÖ' : 
                                       field.mandatory === 'NO' ? 'üü°' : '‚ö†Ô∏è';
                    
                    html += `
                        <tr style="border-bottom: 1px solid #e5e7eb;">
                            <td style="padding: 8px;" class="field-code">${field.field}</td>
                            <td style="padding: 8px;">${requiredIcon}</td>
                            <td style="padding: 8px;"><span class="code">${field.type}</span></td>
                            <td style="padding: 8px;">${field.length}</td>
                            <td style="padding: 8px;" class="mydata-code">${field.mydata}</td>
                            <td style="padding: 8px;">${field.description}</td>
                            <td style="padding: 8px;" class="example-code">${field.examples}</td>
                        </tr>
                    `;
                });
                
                html += `
                                </tbody>
                            </table>
                        </div>
                    </div>
                `;
            });
            
            content.innerHTML = html;
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            renderFieldsTable();
            generateDocumentation();
        });
    </script>
</body>
</html>
